{"version":3,"sources":["App.js","index.js"],"names":["App","_errors$Link","_useState","useState","_useState2","Object","slicedToArray","url","changeurl","_useState3","_useState4","flag","setflag","_useState5","_useState6","flag1","setflag1","_useForm","useForm","defaultValues","Link","Topic","Comment","register","handleSubmit","getValues","reset","_useForm$formState","formState","isSubmitSuccessful","errors","_sendData","asyncToGenerator","regenerator_default","a","mark","_callee","data","wrap","_context","prev","next","axios","post","sent","stop","apply","this","arguments","useEffect","window","browser","tabs","query","active","lastFocusedWindow","tab","_x","sendData","react_default","createElement","onSubmit","console","log","className","assign","type","placeholder","name","required","value","message","onClick","get","then","res","permission","status","rootElement","document","getElementById","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.85cef28a.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport \"./styles.css\"\nfunction App() {\n  const[url,changeurl]=useState(\"\");\n  const[flag,setflag]=useState(false);\n  const[flag1,setflag1]=useState(\"Start Server\");\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    reset,\n    formState: { isSubmitSuccessful, errors }\n  } = useForm({\n    defaultValues: {\n      Link: url,\n      Topic: \"\",\n      Comment: \"\"\n    }\n  });\n\n  useEffect(()=>{\n  window.browser.tabs.query({\n      active: true,\n      lastFocusedWindow: true\n      }, function(tabs) {\n      // and use that tab to fill in out title and url\n      var tab = tabs[0];\n      //console.log(111,tab.url);\n      changeurl(tab.url)\n      reset({Link:tab.url})\n       });\n  },[])\n   \n\n   function startserver(){\n   \n            \tsetflag1(\"Starting!!!\");\n            \taxios.get(\"https://fierce-hamlet-40702.herokuapp.com\").then((res)=>{\n            \t\tif(res.permission || res.status===304 || res.status===200){\n            \t\t\tsetflag(true)\n            \t\t\tsetflag1(\"Start Server\");\n            \t\t}\n            \t})\n            \t\n\t    \n  }\n  \n  async function sendData(data){\n  \t    \n\t    const response=await axios.post(\"https://fierce-hamlet-40702.herokuapp.com/getdata\",data)\n\t    \n  }\n  \n  \n  useEffect(() => {\n    if (isSubmitSuccessful) {\n      const data=getValues();\n      sendData(data)\n      reset({Link:\"\",Topic:\"\",Comment:\"\"});\n    }\n  }, [isSubmitSuccessful, reset]);\n\n const onError =(errors)=>{console.log(errors)}\n    \n  //console.log(errors);\n  return (\n    <div onSubmit={handleSubmit(onError)}>\n      <form >\n      \t\n        <div className=\"form-control\">\n         \n          <input\n            type=\"text\"\n            placeholder=\"Link\"\n            name=\"Link\"\n            {...register(\"Link\", {\n              required: { value: true, message: \"This is required\" }\n            })}\n          />\n          <p className=\"error\">{errors.Link?.message}</p>\n        </div>\n        <div className=\"form-control\">\n         \n          <input\n            type=\"text\"\n            placeholder=\"Topic\"\n            name=\"Topic\"\n            {...register(\"Topic\", {\n              required: { value: true, message: \"This is required\" },\n              // pattern: { value: /^[a-zA-Z\\s]*$/, message: \"It should be string\" }\n            })}\n          />\n          \n        </div>\n        <div className=\"form-control\">\n          \n          <input\n            type=\"text\"\n            placeholder=\"Comment\"\n            name=\"Comment\"\n            {...register(\"Comment\", {})}\n          />\n          \n        </div>\n        \n        <div className=\"submitButton\">\n          {flag?<button type=\"submit\">Submit</button>:<button className=\"serverStart\" onClick={startserver}>{flag1}</button>}\n        </div>\n      </form>\n    </div>\n    \n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.js\";\nimport \"./styles.css\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}